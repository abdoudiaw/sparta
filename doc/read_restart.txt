"SPARTA WWW Site"_sws - "SPARTA Documentation"_sd - "SPARTA Commands"_sc :c

:link(sws,http://sparta.sandia.gov)
:link(sd,Manual.html)
:link(sc,Section_commands.html#comm)

:line

read_restart command :h3

[Syntax:]

read_restart file :pre

file = name of binary restart file to read in :ul

[Examples:]

read_restart save.10000
read_restart restart.*
read_restart flow.*.% :pre

:pre

[Description:]

NOTE: Restart files and their associated commands are not yet
fully implemented in SPARTA.

Read in a previously saved simulation from a restart file.  This
allows continuation of a previous run on the same or different number
of processors.  Information about what is stored in a restart file is
given below.  Basically this operation will re-create the simulation
box with all its particles, the hierarchical grid used to track
particles, and surface elements embedded in the grid, all with their
attributes at the point in time the information was written to the
restart file by a previous simluation.

Although restart files are saved in binary format to allow exact
regeneration of information, the random numbers used in the continued
run will not be identical to those used if the run had been continued.
Hence the new run should be statistically similar to the prevous run,
but not identical.

NOTE: discuss what happens on same or different # of procs, whether
should change partitioning via the "balance"_balance.html or "fix
balance"_fix_balance.html commands.

IMPORTANT NOTE: Because restart files are binary, they may not be
portable to other machines.

Similar to how restart files are written (see the
"write_restart"_write_restart.html and "restart"_restart.html
commands), the restart filename can contain two wild-card characters.
If a "*" appears in the filename, the directory is searched for all
filenames that match the pattern where "*" is replaced with a timestep
value.  The file with the largest timestep value is read in.  Thus,
this effectively means, read the latest restart file.  It's useful if
you want your script to continue a run from where it left off.  See
the "run"_run.html command and its "upto" option for how to specify
the run command so it doesn't need to be changed either.

If a "%" character appears in the restart filename, SPARTA expects a
set of multiple files to exist.  The "restart"_restart.html and
"write_restart"_write_restart.html commands explain how such sets are
created.  Read_restart will first read a filename where "%" is
replaced by "base".  This file tells SPARTA how many processors
created the set and how many files are in it.  Read_restart then reads
the additional files.  For example, if the restart file was specified
as save.% when it was written, then read_restart reads the files
save.base, save.0, save.1, ... save.P-1, where P is the number of
processors that created the restart file.

Note that P could be the total number of processors in the previous
simulation, or some subset of those processors, if the {fileper} or
{nfile} options were used when the restart file was written; see the
"restart"_restart.html and "write_restart"_write_restart.html commands
for details.  The processors in the current SPARTA simulation share
the work of reading these files; each reads a roughly equal subset of
the files.  The number of processors which created the set can be
different the number of processors in the current SPARTA simulation.
This can be a fast mode of input on parallel machines that support
parallel I/O.

:line

A restart file stores the following information about a simulation:

NOTE: Need to be specific about this:

all particles with their attributes
species and mixture info
timestep count and size
all global settings
not vremax
grid topology
surfaces
status of time-average fixes?
what about fixes and computes?

IMPORTANT NOTE: No other information is stored in the restart file.

what specific settings need to be reset?
e.g. regions, variables

:line

[Restrictions:] none

[Related commands:]

"read_grid"_read_grid.html, "read_surf"_read_surf.html,
"write_restart"_write_restart.html, "restart"_restart.html

[Default:] none
