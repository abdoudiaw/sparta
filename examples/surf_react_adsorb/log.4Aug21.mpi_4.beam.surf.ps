SPARTA (26 Feb 2021)
# beam of particles striking the surface at an inclined angle
# free molecular flow (no collisions)

seed	    	    123456
dimension   	    3
global              gridcut 0.0 comm/sort yes

boundary	    	oo oo oo


create_box          -11 11 -11 11 0 10
Created orthogonal box = (-11 -11 0) to (11 11 10)
create_grid 	    2 2 2
WARNING: Could not acquire nearby ghost cells b/c grid partition is not clumped (../grid.cpp:410)
Created 8 child grid cells
  CPU time = 0.00164264 secs
  create/ghost percent = 94.1665 5.83354
balance_grid        rcb cell
Balance grid migrated 4 cells
  CPU time = 0.000931986 secs
  reassign/sort/migrate/ghost percent = 70.9007 0.277365 11.3908 17.4311

global		    	nrho 1e10 fnum 1e6

species		    	air.species O CO CO2 O2 C
mixture		    	air O O2 vstream 0 1000 -1000

mixture             air O   frac 1.0
mixture             air CO  frac 0.0
mixture             air CO2 frac 0.0
mixture             air C   frac 0.0
mixture 			air O2 	frac 0.0


surf_collide        1 cll 300.0 0.5 0.5 0.5 0.5

read_surf			base_plate.surf
  8 points
  12 triangles
  -11 11 xlo xhi
  -11 11 ylo yhi
  0 1 zlo zhi
  1 min triangle edge length
  11 min triangle area
  0 0 = number of pushed cells
  4 0 = cells overlapping surfs, overlap cells with unmarked corner pts
  4 0 4 = cells outside/inside/overlapping surfs
  4 = surf cells with 1,2,etc splits
  4356 4356 = cell-wise and global flow volume
  CPU time = 0.00118063 secs
  read/check/sort/surf2grid/ghost/inout/particle percent = 22.6159 13.6595 1.28372 47.0244 15.4165 15.3455 0.278072
  surf2grid time = 0.000555183 secs
  map/comm1/comm2/comm3/comm4/split percent = 29.8529 13.2848 6.37808 4.39044 11.9009 24.1917

##################################### SURF REACT ADSORB ######################################
##################################### SURF OPTION ############################################

#surf_react        	 adsorb_test_ps1 adsorb ps sample-PS_1.surf nsync 1 surf 1000 6.022e18 O CO
#surf_modify 		 all collide 1 react adsorb_test_ps1

surf_react        	adsorb_test_ps2 adsorb ps sample-PS_2.surf nsync 1 surf 1000 6.022e18 O CO
surf_modify 		all collide 1 react adsorb_test_ps2

########################## BEAM ############################################################
# Beam at multiple points so that different processors handle the surface collisions

region              circle2 cylinder z  6 -10 1 -INF INF
region              circle3 cylinder z -6 -10 1 -INF INF

fix                 in2 emit/face/file air zhi data.beam beam_area_2 nevery 100 region circle2
fix                 in3 emit/face/file air zhi data.beam beam_area_3 nevery 100 region circle3

################################################################################################

#dump                2 image all 10 image.*.ppm type type pdiam 0.2 surf proc 0.01 size 512 512 zoom 1.75 gline no 0.005
#dump_modify	     	2 pad 4

timestep            0.0001

stats		    	10
stats_style	    	step cpu np nattempt ncoll nscoll nscheck
run 		    	1000
Memory usage per proc in Mbytes:
  particles (ave,min,max) = 0 0 0
  grid      (ave,min,max) = 1.51379 1.51379 1.51379
  surf      (ave,min,max) = 0.00151062 0.00151062 0.00151062
  total     (ave,min,max) = 1.5153 1.5153 1.5153
Step CPU Np Natt Ncoll Nscoll Nscheck 
       0            0        0        0        0        0        0 
      10  0.000764014        0        0        0        0        0 
      20  0.001369205        0        0        0        0        0 
      30  0.001944363        0        0        0        0        0 
      40  0.002547528        0        0        0        0        0 
      50  0.003128413        0        0        0        0        0 
      60   0.00373975        0        0        0        0        0 
      70  0.004351227        0        0        0        0        0 
      80  0.004927362        0        0        0        0        0 
      90  0.005537442        0        0        0        0        0 
     100  0.009899145     6274        0        0        0        0 
     110  0.012917904     6276        0        0        0       16 
     120  0.014469678     6276        0        0        0       16 
     130  0.015934289     6276        0        0        0       16 
     140  0.017381368     6276        0        0        0       16 
     150  0.019138342     6276        0        0        0    49968 
     160  0.023801068     6277        0        0        0    50208 
     170  0.028333188     6277        0        0        0    50200 
     180  0.032678827     6278        0        0        0    50208 
     190  0.039094965     6278        0        0     6179    99880 
     200  0.045260087    12588        0        0        0    52400 
     210  0.049699106    12588        0        0        1    51656 
     220  0.055031838    12587        0        0        0    49936 
     230  0.060446007    12587        0        0        0    41312 
     240  0.065166982    12586        0        0        0    28296 
     250   0.06905019    12555        0        0        0    68416 
     260  0.072993044    12360        0        0        0    62328 
     270  0.076886239    11879        0        0        0    58376 
     280  0.080721464    11125        0        0        0    55992 
     290  0.086133537    10269        0        0     6202   104360 
     300  0.091248079    15598        0        0        0    55640 
     310  0.095854373    14833        0        0        0    53952 
     320   0.10123013    14251        0        0        0    51624 
     330   0.10655294    13778        0        0        0    42776 
     340   0.11097073    13449        0        0        0    29408 
     350   0.11466857    13162        0        0        0    68584 
     360   0.11820641    12815        0        0        0    61984 
     370   0.12174172    12189        0        0        0    57888 
     380    0.1252621    11383        0        0        0    55472 
     390   0.13030742    10408        0        0     6126   103152 
     400    0.1350416    15763        0        0        0    54720 
     410   0.13882619    14965        0        0        0    53392 
     420   0.14312461    14324        0        0        0    51040 
     430   0.14734419    13825        0        0        0    42288 
     440   0.15092916    13465        0        0        0    29136 
     450   0.15400198    13167        0        0        0    69008 
     460   0.15758074    12774        0        0        0    62824 
     470   0.16112137    12175        0        0        0    58808 
     480   0.16462896    11380        0        0        0    56200 
     490   0.16968986    10439        0        0     6144   103808 
     500   0.17446078    15793        0        0        0    55384 
     510   0.17777588    14977        0        0        0    53816 
     520   0.18159965    14353        0        0        0    51376 
     530   0.18523673    13887        0        0        0    42328 
     540   0.18846139    13530        0        0        0    29592 
     550    0.1913091    13259        0        0        0    69024 
     560   0.19482095    12887        0        0        0    62688 
     570   0.19833525    12259        0        0        0    58432 
     580   0.20184717    11394        0        0        0    55800 
     590    0.2068948    10471        0        0     6170   103760 
     600   0.21163156    15832        0        0        0    55384 
     610    0.2148104    15018        0        0        0    53568 
     620   0.21835417    14344        0        0        0    51208 
     630   0.22182063    13859        0        0        0    41992 
     640   0.22488912    13502        0        0        0    29128 
     650   0.22760797    13210        0        0        0    69272 
     660   0.23111584    12827        0        0        0    63144 
     670   0.23462203    12201        0        0        0    58784 
     680   0.23815218    11317        0        0        0    56112 
     690   0.24323732    10415        0        0     6170   104056 
     700   0.24799154    15753        0        0        0    55288 
     710   0.25118791    14981        0        0        0    53816 
     720   0.25469013    14396        0        0        0    51424 
     730   0.25816538    13917        0        0        0    42512 
     740   0.26121564    13534        0        0        0    29368 
     750    0.2639472    13211        0        0        0    68936 
     760   0.26750215    12855        0        0        0    62824 
     770   0.27103607    12229        0        0        0    58784 
     780   0.27457747    11407        0        0        0    56176 
     790   0.27961734    10452        0        0     6173   104040 
     800   0.28432323    15826        0        0        0    55400 
     810   0.28751409    15034        0        0        0    53592 
     820   0.29101232    14357        0        0        0    51224 
     830   0.29446222    13893        0        0        0    42664 
     840   0.29753951    13553        0        0        0    29272 
     850   0.30023706    13247        0        0        0    68744 
     860   0.30372572    12844        0        0        0    62096 
     870    0.3072016    12248        0        0        0    58432 
     880     0.310661    11467        0        0        0    55888 
     890   0.31569083    10454        0        0     6170   103760 
     900   0.32034357    15833        0        0        0    55232 
     910   0.32348804    14991        0        0        0    53904 
     920   0.32695554    14357        0        0        0    51656 
     930   0.33038805    13849        0        0        0    42448 
     940   0.33340269    13476        0        0        0    29360 
     950   0.33608139    13159        0        0        0    69000 
     960   0.33961244    12831        0        0        0    62744 
     970   0.34311061    12227        0        0        0    58448 
     980   0.34659047    11389        0        0        0    55640 
     990   0.35160053    10465        0        0     6161   103528 
    1000   0.35630711    15837        0        0        0    55496 
Loop time of 0.356329 on 4 procs for 1000 steps with 15837 particles

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Move    | 0.14233    | 0.17798    | 0.19938    |   5.5 | 49.95
Coll    | 0          | 0          | 0          |   0.0 |  0.00
Sort    | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.018677   | 0.018963   | 0.019277   |   0.2 |  5.32
Modify  | 0.0018005  | 0.0093944  | 0.017415   |   7.8 |  2.64
Output  | 0.0045138  | 0.0047571  | 0.005455   |   0.6 |  1.34
Other   |            | 0.1452     |            |       | 40.76

Particle moves    = 10968444 (11M)
Cells touched     = 11126611 (11.1M)
Particle comms    = 53609 (53.6K)
Boundary collides = 0 (0K)
Boundary exits    = 46954 (47K)
SurfColl checks   = 43803312 (43.8M)
SurfColl occurs   = 56411 (56.4K)
Surf reactions    = 0 (0K)
Collide attempts  = 0 (0K)
Collide occurs    = 0 (0K)
Reactions         = 0 (0K)
Particles stuck   = 0
Axisymm bad moves = 0

Particle-moves/CPUsec/proc: 7.69546e+06
Particle-moves/step: 10968.4
Cell-touches/particle/step: 1.01442
Particle comm iterations/step: 1.811
Particle fraction communicated: 0.00488757
Particle fraction colliding with boundary: 0
Particle fraction exiting boundary: 0.00428083
Surface-checks/particle/step: 3.99358
Surface-collisions/particle/step: 0.00514303
Surf-reactions/particle/step: 0
Collision-attempts/particle/step: 0
Collisions/particle/step: 0
Reactions/particle/step: 0

Surface reaction tallies:
  id adsorb_test_ps2 style adsorb #-of-reactions 5
    reaction all: 112
    reaction C(b) --> C(g): 112

Particles: 3959.25 ave 5219 max 2705 min
Histogram: 2 0 0 0 0 0 0 0 0 2
Cells:      2 ave 2 max 2 min
Histogram: 4 0 0 0 0 0 0 0 0 0
GhostCell: 6 ave 6 max 6 min
Histogram: 4 0 0 0 0 0 0 0 0 0
EmptyCell: 6 ave 6 max 6 min
Histogram: 4 0 0 0 0 0 0 0 0 0
Surfs:    12 ave 12 max 12 min
Histogram: 4 0 0 0 0 0 0 0 0 0
GhostSurf: 0 ave 0 max 0 min
Histogram: 4 0 0 0 0 0 0 0 0 0
